{% extends 'base.html' %}

{% block title %}
    Blueprint index page
{% endblock %}


{% block content_title %}
    Blueprint 
{% endblock %}


{% block content %}
    <div class="col-md-8">
        <p>В Flask, **Blueprint** — это мощный инструмент для структурирования приложения на более мелкие, независимые модули. Это особенно полезно при создании масштабируемых и крупных приложений. Blueprint позволяет разбить код на логические модули, такие как обработчики маршрутов, формы, шаблоны и другие компоненты, чтобы сделать код более организованным и легко поддерживаемым.

        ### Основные особенности **Blueprint**:
        1. **Организация кода**: Вы можете создавать отдельные файлы для каждой функциональной части вашего приложения, что помогает держать код чистым и понятным.
        2. **Повторное использование кода**: Blueprints могут быть использованы многократно в одном приложении или даже в разных приложениях.
        3. **Регистрация маршрутов и обработчиков**: Каждый Blueprint может иметь свои собственные маршруты, обработчики ошибок, фильтры и даже статические файлы и шаблоны.
        </p>
        ### Пример использования Blueprints

        #### 1. Создание Blueprint

        <p>Допустим, вы хотите создать отдельный модуль для обработки маршрутов, связанных с пользователями.

        Создайте файл `users.py` в директории `app`:

        ```python
        from flask import Blueprint, render_template

        # Создаем Blueprint
        users_bp = Blueprint('users', __name__, template_folder='templates')

        # Определяем маршрут внутри Blueprint
        @users_bp.route('/profile')
        def profile():
            return render_template('profile.html') 
        ```

        - `users_bp` — это экземпляр Blueprint.
        - В `Blueprint` можно определять маршруты, как если бы вы это делали с объектом `app`.
        </p>
        <p>
        #### 2. Регистрация Blueprint в основном приложении

        В файле `app.py` вы должны зарегистрировать Blueprint:

        ```python
        from flask import Flask
        from app.users import users_bp  # Импортируем созданный Blueprint

        app = Flask(__name__)

        # Регистрируем Blueprint
        app.register_blueprint(users_bp, url_prefix='/users')

        if __name__ == '__main__':
            app.run(debug=True)
        ```

        Здесь:
        - `url_prefix='/users'` добавляет префикс ко всем маршрутам, определенным в этом Blueprint. Теперь маршрут `/profile` будет доступен по адресу `/users/profile`.
        </p>
        <p>
        #### 3. Разбиение на несколько файлов

        Blueprint позволяет разбить логику приложения на несколько файлов. Например, у вас могут быть отдельные Blueprints для разных частей приложения:

        - `auth.py` — для аутентификации
        - `posts.py` — для обработки постов блога
        - `admin.py` — для панели администратора
        </p>
        <p>
        #### 4. Шаблоны и статические файлы

        Blueprint может иметь свою директорию шаблонов и статических файлов:

        - Папка `templates` для HTML-шаблонов может быть привязана к конкретному Blueprint.
        - Папка `static` для CSS, JavaScript и изображений также может быть настроена для каждого Blueprint.

        ### Пример папочной структуры приложения с Blueprints:

        ```
        /app
            /users
                __init__.py
                views.py
                forms.py
                templates/
            /posts
                __init__.py
                views.py
                forms.py
                templates/
        app.py
        config.py
        requirements.txt
        ```

        ### Преимущества использования Blueprint:
        - **Модульность**: Разделение приложения на независимые части делает код более организованным.
        - **Повторное использование**: Можно переиспользовать Blueprints в других проектах.
        - **Чистота кода**: Легче поддерживать и тестировать различные части приложения.

        Это позволяет гибко управлять архитектурой приложения, особенно когда оно растет.
        </p>
    </div>
{% endblock %} 